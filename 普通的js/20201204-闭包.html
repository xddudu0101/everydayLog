<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <div>
    看这道刷题必刷，面试必考的闭包题：<br />
  </div>
  <script>
    // 非闭包,
    // 当执行到data[0]函数的时候，for循环已经执行完了，i是全局变量，此时的值为3
    var data = []
    for (var i = 0; i < 3; i++) {
      data[i] = function () {
        console.log(i) // 3
      }
    }
    data[0]() // 3
    data[1]() // 3
    data[2]() // 3
  </script>
  <script>
    // 改成闭包模式
    var data = [];

    for (var i = 0; i < 3; i++) {
      data[i] = (function (i) {
        return function () {
          console.log(i);
        }
      })(i);
    }

    data[0]();
    data[1]();
    data[2]();
  </script>
</body>

</html>